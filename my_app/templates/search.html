{% extends "layout.html" %}

{% block title %}
    Search
{% endblock %}

{% block main %}

<style>
/* Grid layout */
.fighter-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 180px)); /* fixed card width */
    gap: 20px;
    margin-top: 20px;
    justify-content: center;  /* center the whole grid */
}

/* Fighter card */
.fighter-card {
    border: 2px solid black;
    border-radius: 10px;
    padding: 16px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center; /* Center content horizontally */
    justify-content: center;
    transition: all 0.2s ease;
    background-color: #fafafa;
}

.fighter-card:hover {
    border-color: #1976d2;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.fighter-card img {
    width: 120px;
    height: 120px;
    object-fit: cover;
    border-radius: 10px;
    margin-bottom: 12px;
}

.fighter-card a {
    text-decoration: none;
    font-weight: bold;
    color: #7b1fa2;
    display: block;
    text-align: center;
}

.fighter-card a:hover {
    color: #1976d2;
}

/* Dark mode */
body.dark-mode {
    background-color: #121212;
    color: #e0e0e0;
}

body.dark-mode .fighter-card {
    background-color: #1e1e1e;
    border-color: #bb86fc;
}

body.dark-mode .fighter-card:hover {
    border-color: #03a9f4;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
}

body.dark-mode .fighter-card a {
    color: #bb86fc;
}

body.dark-mode .fighter-card a:hover {
    color: #03a9f4;
}

/* Dark mode toggle button */
#darkModeToggle {
    padding: 8px 16px;
    font-size: 14px;
    border-radius: 6px;
    border: 1px solid #ccc;
    cursor: pointer;
    background-color: #1976d2;
    color: white;
    float: right;
    margin: 10px;
}
</style>

<!-- Dark mode toggle -->
<button id="darkModeToggle">Dark Mode</button>

<div>
    <h1 style="text-align:center;">There were {{ matched_number }} matches</h1>
    
    <div class="fighter-grid">
        {% for fighter in fighters_list %}
        <div class="fighter-card">
            <img src="{{ fighter['picture'] }}" alt="no pic found">
            <a href="/fighter/{{ fighter['fighter_id'] }}">{{ fighter["name"] }}</a>
        </div>
        {% endfor %}
    </div>
</div>

<script>
// Dark mode toggle
const darkModeToggle = document.getElementById('darkModeToggle');

function enableDarkMode(enable) {
    if(enable) {
        document.body.classList.add('dark-mode');
        localStorage.setItem('darkMode', 'true');
    } else {
        document.body.classList.remove('dark-mode');
        localStorage.setItem('darkMode', 'false');
    }
}

// Load preference on page load
window.addEventListener('DOMContentLoaded', () => {
    const darkMode = localStorage.getItem('darkMode');
    if(darkMode === 'true') enableDarkMode(true);
});

darkModeToggle.addEventListener('click', () => {
    const isDark = document.body.classList.contains('dark-mode');
    enableDarkMode(!isDark);
});
</script>

{% endblock %}
